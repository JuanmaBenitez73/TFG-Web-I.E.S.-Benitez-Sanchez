{% extends 'base.html.twig' %}

{% block title %}Organigrama
{% endblock %}

{% block body %}
	<main class="p-3 mt-3 mb-3 rounded overflow-hidden">
		<div id="organization_chart-container" class="p-1 rounded">
			<div>
				<h1 class="text-center title">Organigrama</h1>
			</div>
			<div class="p-4 text-justify">
				{% for organization_chart in organization_charts %}
					<div class="text-justify">
						<div class="organization_chart-info-content rounded mb-2">
							<h1 class="text-center organization_chart-info-content-title rounded">{{ organization_chart.title }}</h1>
							<p style="word-wrap: break-word; overflow-wrap:break-word; word-break: break-word">
								<b>{{ organization_chart.description }}</b>
							</p>
							{% if organization_chart.image %}
								<div class="d-flex justify-content-center">
									<div style="max-width: 400px; max-height: 400px; overflow: hidden;">
										<img src="{{ asset('images/organization_chart/' ~ organization_chart.image) }}" alt="{{ organization_chart.image }}" style="width: 100%; height: 100%;object-fit: cover;" class="rounded">
									</div>
								</div>
							{% endif %}
						</div>
						<div class="d-flex align-items-center gap-2">
							<a href="{{ path('app_organization_chart_show', {'id': organization_chart.id}) }}" class="details-button py-2 px-3 rounded text-white">
								<i class="fas fa-eye"></i>
								Ver detalles
							</a>
							{% if app.session.get('user_id') is not null %}
								<a href="{{ path('app_organization_chart_edit', {'id': organization_chart.id}) }}" class="edit-button py-2 px-3 rounded text-black">
									<i class="fas fa-edit"></i>
									Editar
								</a>
							{% endif %}
						</div>
						<hr class="text-secondary">
					</div>
				{% else %}
					<div class="text-center">
						<p class="fw-bold fs-3">"No existe informaciÃ³n ðŸ˜”"</p>
					</div>
					<hr class="text-secondary">
				{% endfor %}
				{% if app.session.get('user_id') is not null %}
					<div class="d-flex justify-content-center">
						<a href="{{path('app_organization_chart_new')}}" class="create-button py-2 px-3 rounded text-black">
							<i class="fas fa-plus"></i>
							AÃ±adir noticia / informaciÃ³n
						</a>
					</div>
					<hr class="text-secondary">
				{% endif %}
			</div>
		</div>
	</main>
{% endblock %}