{% extends 'base.html.twig' %}

{% block title %}Detalle de usuario
{% endblock %}

{% block body %}
	<main class="p-3 mt-3 mb-3 rounded overflow-hidden">
		<div id="users-container" class="p-4 rounded">
			<div>
				<h1 class="text-center title">
					<i class="fas fa-user m-3"></i>Detalles de
					{{ user.username }}
				</h1>
			</div>

			<table class="table table-dark table-striped table-hover table-bordered mt-4">
				<tbody>
					<tr>
						<th>Username</th>
						<td>{{ user.username }}</td>
					</tr>
					<tr>
						<th>Password</th>
						<td style="position: relative; max-width: 300px;">
							<input id="password-field" type="password" class="form-control bg-transparent text-white border-0" value="{{ user.password }}" readonly>
							<button type="button" class="btn btn-outline-light" style="position: absolute; right: 0; top: 0; height: 100%; border: none;" onclick="togglePasswordVisibility()">
								<i id="toggle-icon" class="fas fa-eye"></i>
							</button>
						</td>
					</tr>
					<tr>
						<th>Admin</th>
						<td>{{ user.admin ? 'SÃ­' : 'No' }}</td>
					</tr>
				</tbody>
			</table>

			<div class="d-flex gap-3 justify-content-center mt-3">
				<a href="{{ path('app_users_index') }}" class="btn btn-primary">
					<i class="fas fa-arrow-left"></i>
					Volver a la lista
				</a>
				<a href="{{ path('app_users_edit', {'id': user.id}) }}" class="btn btn-warning">
					<i class="fas fa-edit"></i>
					Editar
				</a>
			</div>
		</div>
	</main>
	 <script>
		    function togglePasswordVisibility() {
		        const passwordField = document.getElementById('password-field');
		        const toggleIcon = document.getElementById('toggle-icon');
		        if (passwordField.type === 'password') {
		            passwordField.type = 'text';
		            toggleIcon.classList.remove('fa-eye');
		            toggleIcon.classList.add('fa-eye-slash');
		        } else {
		            passwordField.type = 'password';
		            toggleIcon.classList.remove('fa-eye-slash');
		            toggleIcon.classList.add('fa-eye');
		        }
		    }
		</script>
{% endblock %}
